{%extends 'base.html'%}
{%block content%}

{% load crispy_forms_tags static%}

{% block extra_css%}
    <link rel="stylesheet" type="text/css" href="{% static 'css/customer_list/customer_list.css'%}">
{%endblock%}

<div class="container mt-5">

  <div class="card-header bg-primary text-white text-center rounded-top-4 py-3 shadow-sm">
      <h2 class="mb-0"> <i class="bi bi-people-fill"></i>  Customers Information </h2>
    </div>

  <div class="table-responsive shadow-sm p-3 bg-white rounded">
    <table class="table table-hover align-middle text-center">
      <thead class="table-primary">
        <tr>
            <th>Customer ID</th>
            <th>Customer First Name</th>
            <th>Customer Last Name</th>
            <th>Customer Email Address</th>
            <th>Customer Number</th>
            <th>Customer Address</th>
            <th>Customer Update</th>
            <th>Customer Delete</th>

        </tr>
      </thead>
      <tbody>
        <tbody>
        {%for customer in customers%}
        <tr>
          <td> {{customer.customer_id}}</td>
             <td>  {{customer.first_name}}</td>
             <td>{{customer.last_name}}</td>
             <td>{{customer.email}}</td>
             <td>  {{customer.number}}</td>
             <td>{{customer.address}}</td>
          <td>
              <a href="{% url 'customers_update' customer.customer_id%}"
                 class="btn btn-warning"
                onclick="return confirmUpdate();">
                  <i class="bi bi-pencil-square"></i> UPDATE
              </a>
          </td>
          <td>
              <a href="{% url 'customers_delete' customer.customer_id%}"
                 class="btn btn-danger"
                 onclick="return confirmDelete();">
                  <i class="bi bi-trash"></i>DELETE
              </a>
          </td>
        </tr>
        {%endfor%}
        </tbody>
      </tbody>
    </table>
  </div>
</div>

<!-- update and delete button -->
<script>
    function confirmDelete(){
        return confirm("Are you use you want to delete this customers data?")
    }

    function confirmUpdate(){
        return confirm("You are about to update sensitive data!")
    }
</script>



<!-- Pagination -->
<div class="pagination-container d-flex justify-content-center mt-4">
    <nav aria-label="Page navigation">
        <ul class="pagination shadow-sm">

            {% if page_obj.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page=1">« First</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.previous_page_number }}">‹ Prev</a>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <span class="page-link">« First</span>
                </li>
                <li class="page-item disabled">
                    <span class="page-link">‹ Prev</span>
                </li>
            {% endif %}

            <li class="page-item active">
                <span class="page-link">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                </span>
            </li>

            {% if page_obj.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next ›</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last »</a>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <span class="page-link">Next ›</span>
                </li>
                <li class="page-item disabled">
                    <span class="page-link">Last »</span>
                </li>
            {% endif %}
        </ul>
    </nav>
</div>







<!--
<div class="container">
    <h1>Customer List</h1>
    <table class="table table-stripped">
      <thead>
        <tr>
            <th>Customer ID</th>
           <th>Customer First Name</th>
           <th>Customer Last Name</th>
           <th>Customer Email</th>
           <th>Customer Number</th>
            <th>Customer Address </th>
        </tr>
      </thead>
      <tbody>
      {%for customer in customers%}
        <tr>
          <td> {{customer.customer_id}}</td>
             <td>  {{customer.first_name}}</td>
             <td>{{customer.last_name}}</td>
             <td>{{customer.email}}</td>
             <td>  {{customer.number}}</td>
             <td>{{customer.address}}</td>
          <td><a href="{% url 'customers_update' customer.customer_id%}"  class="btn btn-primary">UPDATE </a></td>
          <td> <a href="{% url 'customers_delete' customer.customer_id%}" class="btn btn-danger">DELETE</a></td>
        </tr>
        {%endfor%}
      </tbody>
    </table>
</div>
-->


{% endblock %}